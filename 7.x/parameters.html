
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>매개변수 &#8212; 클릭 문서 (7.x)</title>
    <link rel="stylesheet" href="_static/click.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/click-icon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="옵션" href="options.html" />
    <link rel="prev" title="setuptools 사용" href="setuptools.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = './';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="options.html" title="옵션"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="setuptools.html" title="setuptools 사용"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">클릭 문서 (7.x)</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1>매개변수<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>클릭은 스크립트에서 두 가지 종류의 매개변수를 지원하는데,
옵션(option)과 인자(argument)다. 명령행 스크립트 작성자들 중에
이 둘을 헛갈리는 경우가 좀 있으니 차이점을 간단히 확인해 보자.
옵션은 이름 그대로 선택적이다. 인자는 일정 정도로 선택적일 수
있기는 하지만 선택적일 수 있는 방식에 훨씬 많은 제약이 있다.</p>
<p>옵션과 인자 중에 선택을 해야 하는 경우라면 하위 명령을 만들 때나
파일명/URL을 입력받는 경우 등에만 인자를 쓰고 그 외는 모두
옵션으로 하기를 권한다.</p>
<div class="section" id="id2">
<h2>차이점<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>인자는 옵션보다 할 수 있는 게 적다. 다음 기능들은 옵션에서만
가능하다.</p>
<ul class="simple">
<li><p>빠진 입력을 자동으로 묻기.</p></li>
<li><p>플래그로 동작하기. (불리언 또는 다른 방식)</p></li>
<li><p>환경 변수에서 옵션 값을 가져올 수 있음. 인자는 안 됨.</p></li>
<li><p>도움말 페이지에 옵션들은 모두 나오지만 인자는 나오지 않음.
(이는 의도적인 것이다. 인자는 자동으로 표시하기에는 너무
상세할 수도 있다.)</p></li>
</ul>
<p>한편으로 옵션과 달리 인자로는 임의 개수의 인자를 받을 수 있다.
옵션으로는 만약 받는다면 정확히 고정된 개수(기본 1)의 인자만
받을 수 있다.</p>
</div>
<div class="section" id="id3">
<h2>매개변수 타입<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>매개변수 타입으로 여러 가지가 가능하다. 다른 동작 방식의
타입을 구현할 수 있고 기본적으로 지원하는 타입도 몇 가지 있다.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">str</span></code> / <a class="reference internal" href="api.html#click.STRING" title="click.STRING"><code class="xref py py-data docutils literal notranslate"><span class="pre">click.STRING</span></code></a>:</dt>
<dd><p>기본 매개변수 타입이고 유니코드 문자열을 나타냄.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">int</span></code> / <a class="reference internal" href="api.html#click.INT" title="click.INT"><code class="xref py py-data docutils literal notranslate"><span class="pre">click.INT</span></code></a>:</dt>
<dd><p>정수만 받는 매개변수.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">float</span></code> / <a class="reference internal" href="api.html#click.FLOAT" title="click.FLOAT"><code class="xref py py-data docutils literal notranslate"><span class="pre">click.FLOAT</span></code></a>:</dt>
<dd><p>부동소수점 값만 받는 매개변수.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bool</span></code> / <a class="reference internal" href="api.html#click.BOOL" title="click.BOOL"><code class="xref py py-data docutils literal notranslate"><span class="pre">click.BOOL</span></code></a>:</dt>
<dd><p>불리언 값을 받는 매개변수. 불리언 플래그에는 자동으로 이
타입이 쓰인다. 문자열 값 <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">yes</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, <code class="docutils literal notranslate"><span class="pre">t</span></code>,
<code class="docutils literal notranslate"><span class="pre">true</span></code>는 <cite>True</cite>로 변환되고 <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">no</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">f</span></code>,
<code class="docutils literal notranslate"><span class="pre">false</span></code>는 <cite>False</cite>로 변환된다.</p>
</dd>
<dt><a class="reference internal" href="api.html#click.UUID" title="click.UUID"><code class="xref py py-data docutils literal notranslate"><span class="pre">click.UUID</span></code></a>:</dt>
<dd><p>UUID 값을 받는 매개변수. 자동으로 이 타입으로 추측하지
않으며 <a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">uuid.UUID</span></code></a>로 표현한다.</p>
</dd>
</dl>
<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">click.</code><code class="descname">File</code><span class="sig-paren">(</span><em>mode='r'</em>, <em>encoding=None</em>, <em>errors='strict'</em>, <em>lazy=None</em>, <em>atomic=False</em><span class="sig-paren">)</span></dt>
<dd><p>매개변수를 읽기 또는 쓰기용 파일로 선언한다. 그 파일은 (명령
동작이 완료된 후) 문맥이 없어지면 자동으로 닫힌다.</p>
<p>파일을 읽기 또는 쓰기용으로 열 수 있다. 특수 값 <code class="docutils literal notranslate"><span class="pre">-</span></code>는
모드에 따라 stdin이나 stdout을 나타낸다.</p>
<p>기본적으로는 파일이 텍스트 읽기용으로 열리지만 바이너리 모드나
쓰기용으로 열 수도 있다. 그리고 encoding 매개변수를 써서 특정
인코딩을 강제할 수 있다.</p>
<p><code class="docutils literal notranslate"><span class="pre">lazy</span></code> 플래그는 파일을 즉시 열지 아니면 첫 IO에서 열지를 제어한다.
기본 방식은 표준 입력 및 출력 스트림, 그리고 읽기용으로 여는 파일은
즉시 열고 그 외는 늦게 여는 것이다. 파일을 읽기용으로 늦게 열 때는
확인을 위해 잠깐 열기는 하되 첫 IO까지 열어두지 않는다. 늦게 여는
동작이 유용한 건 쓰기용으로 열면서 필요할 때까지는 파일이 생성되지
않게 할 때이다.</p>
<p>클릭 2.0부터는 파일을 원자적으로 열 수도 있는데, 그렇게 하면
모든 쓰기 내용이 같은 폴더 내의 별도 파일로 가며 작업이 끝나면
그 파일이 원래 위치로 옮겨지게 된다. 다른 사용자들이 규칙적으로
읽는 파일을 변경하는 경우에 유용하다.</p>
<p>더 자세한 내용은 <a class="reference internal" href="arguments.html#file-args"><span class="std std-ref">파일 인자</span></a> 참고.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">click.</code><code class="descname">Path</code><span class="sig-paren">(</span><em>exists=False</em>, <em>file_okay=True</em>, <em>dir_okay=True</em>, <em>writable=False</em>, <em>readable=True</em>, <em>resolve_path=False</em>, <em>allow_dash=False</em>, <em>path_type=None</em><span class="sig-paren">)</span></dt>
<dd><p>경로 타입은 <a class="reference internal" href="api.html#click.File" title="click.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> 타입과 비슷하되 다른 검사들을
수행한다. 우선 열린 파일 핸들을 반환하는 게 아니라 그냥 파일명을
반환한다. 그리고 그 파일 내지 디렉터리가 어떠해야 하는가에 대한
다양한 기본 검사를 수행할 수 있다.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 6.0: </span><cite>allow_dash</cite> 추가됨.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exists</strong> – 참으로 설정 시 이 값이 유효하려면 파일 내지
디렉터리가 존재해야 함. 이 조건을 지정하지 않고
파일이 실재 존재하지 않으면 이후 검사를 모두
조용히 건너뛴다.</p></li>
<li><p><strong>file_okay</strong> – 파일이 가능한 값인지 여부를 지정.</p></li>
<li><p><strong>dir_okay</strong> – 디렉터리가 가능한 값인지 여부를 지정.</p></li>
<li><p><strong>writable</strong> – 참이면 쓰기 가능 여부 검사를 수행.</p></li>
<li><p><strong>readable</strong> – 참이면 읽기 가능 여부 검사를 수행.</p></li>
<li><p><strong>resolve_path</strong> – 참이면 경로를 완전히 해석하고 나서 값을
계속 전달함. 즉 절대 경로가 되고 심볼릭
링크들을 해석한다. 물결표 확장은 셸에서
할 일이므로 하지 않는다.</p></li>
<li><p><strong>allow_dash</strong> – <cite>True</cite>로 설정 시 대시 하나로 표준 스트림을
나타내는 걸 허용함.</p></li>
<li><p><strong>path_type</strong> – 선택적. 경로를 나타내는 데 사용해야 할
문자열 타입. 기본은 <cite>None</cite>으로, 클릭에서
처리하는 입력 데이터가 어느 쪽에 맞는가에
따라 반환 값이 bytes 아니면 unicode가 된다.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">click.</code><code class="descname">Choice</code><span class="sig-paren">(</span><em>choices</em>, <em>case_sensitive=True</em><span class="sig-paren">)</span></dt>
<dd><p>선택 타입을 이용하면 값이 정해진 지원 값들 중 하나인지
확인할 수 있다. 지원 값들은 모두 문자열이어야 한다.</p>
<p>선택지들의 리스트나 튜플을 줘야 한다. (제너레이터 같은)
다른 이터러블은 예상치 못한 결과를 유발할 수 있다.</p>
<p><a class="reference internal" href="options.html#choice-opts"><span class="std std-ref">선택 옵션</span></a>의 예시 참고.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>case_sensitive</strong> – 거짓으로 설정하면 선택지들이
대소문자 구분이 없게 됨. 기본은 참.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">click.</code><code class="descname">IntRange</code><span class="sig-paren">(</span><em>min=None</em>, <em>max=None</em>, <em>clamp=False</em><span class="sig-paren">)</span></dt>
<dd><p><a class="reference internal" href="api.html#click.INT" title="click.INT"><code class="xref py py-data docutils literal notranslate"><span class="pre">click.INT</span></code></a>와 비슷하게 동작하되 값을 어떤 범위로
제약하는 매개변수. 값이 범위를 벗어날 때 기본 동작은 실패하는
것이지만 두 경곗값 중 하나로 조용히 자를 수도 있다.</p>
<p><a class="reference internal" href="options.html#ranges"><span class="std std-ref">범위 옵션</span></a>의 예시 참고.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">click.</code><code class="descname">FloatRange</code><span class="sig-paren">(</span><em>min=None</em>, <em>max=None</em>, <em>clamp=False</em><span class="sig-paren">)</span></dt>
<dd><p><a class="reference internal" href="api.html#click.FLOAT" title="click.FLOAT"><code class="xref py py-data docutils literal notranslate"><span class="pre">click.FLOAT</span></code></a>과 비슷하게 동작하되 값을 어떤 범위로
제약하는 매개변수. 값이 범위를 벗어날 때 기본 동작은 실패하는
것이지만 두 경곗값 중 하나로 조용히 자를 수도 있다.</p>
<p><a class="reference internal" href="options.html#ranges"><span class="std std-ref">범위 옵션</span></a>의 예시 참고.</p>
</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">click.</code><code class="descname">DateTime</code><span class="sig-paren">(</span><em>formats=None</em><span class="sig-paren">)</span></dt>
<dd><p>DateTime 타입은 날짜 문자열을 <cite>datetime</cite> 객체로 변환한다.</p>
<p>확인할 형식 문자열들을 설정할 수 있으며 몇 가지 많이 쓰는
(시간대 없는) ISO 8601 형식들이 기본값이다.</p>
<p><em>DateTime</em> 형식을 지정할 때 리스트나 튜플을 줘야 한다.
제너레이터 같은 다른 이터러블은 예상치 못한 결과를 유발할 수 있다.</p>
<p>형식 문자열들은 <code class="docutils literal notranslate"><span class="pre">datetime.strptime</span></code>으로 처리되며, 그에 따라
허용되는 형식 문자열이 규정된다.</p>
<p>각 형식을 차례대로 사용해 파싱을 시도하며 파싱이 성공한 첫 번째
형식을 쓴다.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>formats</strong> – 시도 순서대로 된 날짜 형식 문자열들의 리스트
또는 튜플. 기본값은
<code class="docutils literal notranslate"><span class="pre">'%Y-%m-%d'</span></code>, <code class="docutils literal notranslate"><span class="pre">'%Y-%m-%dT%H:%M:%S'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'%Y-%m-%d</span> <span class="pre">%H:%M:%S'</span></code>.</p>
</dd>
</dl>
</dd></dl>

<p><a class="reference internal" href="api.html#click.ParamType" title="click.ParamType"><code class="xref py py-class docutils literal notranslate"><span class="pre">click.ParamType</span></code></a>의 하위 클래스를 만들어서 새로운 매개변수
타입을 구현할 수 있다. 더 간단하게는 실패 시 <cite>ValueError</cite>를 던지는
파이썬 함수를 전달하는 방식도 지원하지만 권하진 않는다.</p>
</div>
<div class="section" id="parameter-names">
<span id="id4"></span><h2>매개변수 이름<a class="headerlink" href="#parameter-names" title="Permalink to this headline">¶</a></h2>
<p>매개변수(옵션과 인자 모두)는 정해진 수의 위치 인자들을 받으며
그 인자들은 명령 함수 매개변수로 전달된다. 대시 한 개가 있는
문자열은 짧은 인자로 추가되고 대시 두 개로 시작하는 문자열은
긴 인자로 추가된다.</p>
<p>대시 없이 추가하는 문자열은 내부 매개변수 이름이 되고
그 이름이 변수 이름으로도 쓰인다.</p>
<p>어떤 매개변수를 위한 이름들에 모두 대시가 있는 경우에는
가장 긴 인자를 골라 대시를 모두 밑줄로 바꿔서 자동으로
내부 이름을 만든다.</p>
<p>그리고 그 내부 이름을 소문자로 바꾼다.</p>
<p>예시:</p>
<ul class="simple">
<li><p>옵션에 <code class="docutils literal notranslate"><span class="pre">('-f',</span> <span class="pre">'--foo-bar')</span></code>를 주면 매개변수 이름이 <cite>foo_bar</cite>다.</p></li>
<li><p>옵션에 <code class="docutils literal notranslate"><span class="pre">('-x',)</span></code>를 주면 매개변수가 <cite>x</cite>다.</p></li>
<li><p>옵션에 <code class="docutils literal notranslate"><span class="pre">('-f',</span> <span class="pre">'--filename',</span> <span class="pre">'dest')</span></code>를 주면 매개변수 이름이 <cite>dest</cite>다.</p></li>
<li><p>옵션에 <code class="docutils literal notranslate"><span class="pre">('--CamelCaseOption',)</span></code>을 주면 매개변수가 <cite>camelcaseoption</cite>이다.</p></li>
<li><p>인자에 <code class="docutils literal notranslate"><span class="pre">(`foogle`)</span></code>을 주면 매개변수 이름이 <cite>foogle</cite>이다.
도움말에 표시할 읽기 좋은 다른 이름을 주려면 <a class="reference internal" href="documentation.html#doc-meta-variables"><span class="std std-ref">도움말 잘라내기</span></a>
절을 참고하라.</p></li>
</ul>
</div>
<div class="section" id="id5">
<h2>새로운 타입 구현하기<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>새로운 타입을 구현하려면 <a class="reference internal" href="api.html#click.ParamType" title="click.ParamType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParamType</span></code></a> 클래스의 하위 클래스를
만들어야 한다. 타입 호출 시 문맥 및 매개변수 객체가 있을 수도 있고
없을 수도 있으며, 그래서 어느 쪽도 처리할 수 있어야 한다.</p>
<p>다음 코드는 일반 정수에 추가로 16진수와 8진수도 받아서 보통 정수로
바꿔 주는 정수 타입을 구현한 것이다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">click</span>

<span class="k">class</span> <span class="nc">BasedIntParamType</span><span class="p">(</span><span class="n">click</span><span class="o">.</span><span class="n">ParamType</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;integer&#39;</span>

    <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">ctx</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;0x&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">[</span><span class="mi">2</span><span class="p">:],</span> <span class="mi">16</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">value</span><span class="p">[:</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;0&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> is not a valid integer&#39;</span> <span class="o">%</span> <span class="n">value</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span>

<span class="n">BASED_INT</span> <span class="o">=</span> <span class="n">BasedIntParamType</span><span class="p">()</span>
</pre></div>
</div>
<p>보다시피 하위 클래스에서 <a class="reference internal" href="api.html#click.ParamType.convert" title="click.ParamType.convert"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ParamType.convert()</span></code></a> 메소드를 구현해야
한다. 선택적으로 <a class="reference internal" href="api.html#click.ParamType.name" title="click.ParamType.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ParamType.name</span></code></a> 속성을 제공할 수 있는데,
문서화 용도로만 쓰인다.</p>
</div>
</div>


          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/click-logo-sidebar.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">매개변수</a><ul>
<li><a class="reference internal" href="#id2">차이점</a></li>
<li><a class="reference internal" href="#id3">매개변수 타입</a></li>
<li><a class="reference internal" href="#parameter-names">매개변수 이름</a></li>
<li><a class="reference internal" href="#id5">새로운 타입 구현하기</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
          <li>Previous: <a href="setuptools.html" title="previous chapter">setuptools 사용</a>
          <li>Next: <a href="options.html" title="next chapter">옵션</a>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014 Pallets Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>

  </body>
</html>